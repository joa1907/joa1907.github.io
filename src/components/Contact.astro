<div class="flex justify-center md:p-4">
  <div
    class="flex flex-col justify-center items-center gap-3 md:flex-row w-full max-w-[23rem]"
  >
    <label for="email" class="sr-only">joaquincardoso2219@gmail.com</label>
    <input
      id="contact-input"
      type="text"
      class="text-center bg-gray-50 border border-gray-300 text-gray-600 text-sm rounded-lg block w-9/12 md:w-72 p-2.5 dark:bg-gray-700/50 dark:border-gray-600/50 dark:placeholder-gray-300 dark:text-gray-300"
      value=`joaquincardoso2219@gmail.com`
      disabled
      readonly
    />
    <button
      id="copy-btn"
      class="focus:ring-4 focus:outline-none text-gray-900/90 hover:text-white border border-gray-800 hover:bg-gray-900/90 focus:ring-gray-300
           dark:border-gray-600 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-800 font-medium rounded-lg text-sm w-9/12 md:w-32
            py-2.5 text-center items-center inline-flex justify-center"
    >
      <span id="default-message" class="">Copiar</span>
      <span id="success-message" class="hidden items-center">
        <svg
          class="w-3 h-3 text-white me-1.5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 16 12"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 5.917 5.724 10.5 15 1.5"></path>
        </svg>
        Copiado
      </span>
    </button>
  </div>
</div>

<script>
  document.getElementById("copy-btn").addEventListener("click", function () {
    const input = document.getElementById("contact-input") as HTMLInputElement;
    const textToCopy = input.value;

    navigator.clipboard
      .writeText(textToCopy)
      .then(() => {
        document.getElementById("default-message").classList.add("hidden");
        document.getElementById("success-message").classList.remove("hidden");
        document.getElementById("success-message").classList.add("flex");

        setTimeout(() => {
          document.getElementById("default-message").classList.remove("hidden");
          document.getElementById("success-message").classList.remove("flex");
          document.getElementById("success-message").classList.add("hidden");
        }, 5000);
      })
      .catch((err) => {
        console.error("Error al copiar el contenido:", err);
      });
  });
</script>
